<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>COUNTRIES-BY-WIKIPEDIA.md - Grip</title>
  <link rel="icon" href="/Users/maxbuck/Documents/Personal/maxwellbuck.com/site/static/favicon.ico" />
  <link rel="stylesheet" href="/Users/maxbuck/Documents/Personal/maxwellbuck.com/site/asset/site-e1e1bc98a53e.css" />
  <link rel="stylesheet" href="/Users/maxbuck/Documents/Personal/maxwellbuck.com/site/asset/frameworks-7a12427f1445.css" />
  <link rel="stylesheet" href="/Users/maxbuck/Documents/Personal/maxwellbuck.com/site/asset/github-d48e9398f9dd.css" />
  <link rel="stylesheet" href="/Users/maxbuck/Documents/Personal/maxwellbuck.com/site/static/octicons/octicons.css" />
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
    }
    /* User-content tweaks */
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
    /* User-content overrides */
    .discussion-timeline.wide {
      width: 920px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="">

    

      <div role="main" class="main-content">
        <div class="container new-discussion-timeline experiment-repo-nav">
          <div class="repository-content">
            <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
              
                <h3>
                  <span class="octicon octicon-book"></span>
                  COUNTRIES-BY-WIKIPEDIA.md
                </h3>
              
              <article class="markdown-body entry-content" itemprop="text" id="grip-content">
                <p align="right">
  <a href="maxwellbuck.pub">PGP</a>
  •
  <a href="fb-highlights.html">Thoughts</a>
  •
  <a href="COUNTRIES-BY-WIKIPEDIA.md">Raw</a>
  •
  <a href="index.html">Home</a>
</p>
<h1>
<a id="user-content-i-clustered-countries-by-wikipedia-references---heres-what-happened" class="anchor" href="#i-clustered-countries-by-wikipedia-references---heres-what-happened" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I clustered countries by Wikipedia references - here's what happened</h1>
<p>A few days ago I decided I didn't know enough about the relationships between countries on the World stage.  To get myself up to date I made a few different 'study guides' where I grouped countries by all sorts of things -- power index, region, GDP, quality of life.  After sorting the countries this way I thought I'd be able to start somewhere and begin reading the Wikipedia pages for all the countries, fleshing out my knowledge of the world little by little.</p>
<p>Sorting by these arbitrary things helped, but there was some countries that were hard to group and I figured that since I planned to begin my search for knowledge by using Wikipedia, I should ask Wikipedia what it thought.  I visited the page that lists sovereign nations and included all of them (including the heavily contested ones),  there were 207.  Then I  started writing a little code...</p>
<p>You can see the <a href="https://github.com/buckmaxwell/wiki-country-scrape">full code on GitHub</a>, but basically, I went through the country pages one by one, and on each country page I searched for references to the other countries, building weighted relationships between the countries.  I then loaded this information into a tool called <a href="https://gephi.org/" rel="nofollow">Gephi</a> (which is open source and free!) and tried my hand at creating a useful visualization.</p>
<p>Displaying lines proved to be futile pretty quickly. Regardless of how I organized by graph, the countries were so interconnected that it was impossible to follow the lines, regardless of what wacky magic I tried to apply.  I ended up finding the Gephi's force Atlas 2 algorithm to be quite useful for the visualization.  It makes heavy use of edge degrees, grouping highly connected nodes close together.  I used it in LinLog mode, which creates tighter clusters.  You can read more about the algorithm <a href="https://github.com/gephi/gephi/wiki/Force-Atlas-2">here</a>.  Using Force Atlas 2, clear clusters began to emerge.  It now seemed unnecessary to leave all the lines in, since proximity told the same tale.  I removed them.</p>
<p>Finally, I ran the modularity class algorithm with default settings a few times and colored the nodes accordingly.  Interestingly, the modularity class told a slightly different story than simple proximity did. Take Portugal for example.  Portugal has a great deal in common with Spain, its nearest neighbor, and a country with whom it has feuded over the border with throughout history.  Most of the time, geographic proximity relates to distal proximity on the graph, but in the case of Portugal it did not.  Portugal is floating down and significantly left of Spain.  You'll notice it's color, however, is shared with Spain.  Something must be "pulling" it left.    A Wikipedia search for Portugal will reveal that the Portuguese empire colonized a lot of Africa including Guinea, Angola, and Mozambique.  So the color and the position of the node both tell interesting stories.  I left them both.</p>
<p>The size of the nodes is based on the in-degree, or number of times other countries pages mentioned the country.  Here is a picture of my results (<a href="https://github.com/buckmaxwell/wiki-country-scrape">see GitHub for full PNG and PDF files</a>). If you like this let me know, I may continue posting on this topic soon.</p>
<p><a href="images/country-clusters-large-lables.png" target="_blank"><img src="images/country-clusters-large-lables.png" alt="The Final Product" style="max-width:100%;"></a></p>
<p><em>NOTE: a previous version of this post included a different version of the same graph that was slightly different.  The older version is still available on GitHub but is less legible.</em></p>
<p align="center"><a href="how-many-seasons.html">Prev</a>
 &lt;&gt; <a href="whats-with-the-new-blog.html">Next</a></p>
<hr>
<p align="center">
  <a href="https://www.linkedin.com/pub/max-buck/8b/5b8/a9" rel="nofollow">LinkedIn</a>
  •
  <a href="resume.html">Resume</a>
  •
  <a href="https://github.com/buckmaxwell">GitHub</a>
</p>
<hr>
<p>(c) 2018 <a href="mailto:maxbuckdeveloper@gmail.com">maxbuckdeveloper@gmail.com</a></p>

              </article>
            </div>
          </div>
        </div>
      </div>

    

  </div>
  <div>&nbsp;</div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src') && image.src !== image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }

    function scrollToHash() {
      if (location.hash && !document.querySelector(':target')) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }

    function autorefreshContent(eventSourceUrl) {
      var initialTitle = document.title;
      var contentElement = document.getElementById('grip-content');
      var source = new EventSource(eventSourceUrl);
      var isRendering = false;

      source.onmessage = function(ev) {
        var msg = JSON.parse(ev.data);
        if (msg.updating) {
          isRendering = true;
          document.title = '(Rendering) ' + document.title;
        } else {
          isRendering = false;
          document.title = initialTitle;
          contentElement.innerHTML = msg.content;
          showCanonicalImages();
        }
      }

      source.onerror = function(e) {
        if (e.readyState === EventSource.CLOSED && isRendering) {
          isRendering = false;
          document.title = initialTitle;
        }
      }
    }

    window.onhashchange = function() {
      scrollToHash();
    }

    window.onload = function() {
      scrollToHash();
    }

    showCanonicalImages();

    var autorefreshUrl = document.getElementById('preview-page').getAttribute('data-autorefresh-url');
    if (autorefreshUrl) {
      autorefreshContent(autorefreshUrl);
    }
  </script>
</body>
</html>