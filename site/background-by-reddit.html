<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>BACKGROUND-BY-REDDIT.md - Grip</title>
  <link rel="icon" href="/static/favicon.ico" />
  <link rel="stylesheet" href="/asset/site-e1e1bc98a53e.css" />
  <link rel="stylesheet" href="/asset/frameworks-7a12427f1445.css" />
  <link rel="stylesheet" href="/asset/github-d48e9398f9dd.css" />
  <link rel="stylesheet" href="/static/octicons/octicons.css" />
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
    }
    /* User-content tweaks */
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
    /* User-content overrides */
    .discussion-timeline.wide {
      width: 920px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="">

    

      <div role="main" class="main-content">
        <div class="container new-discussion-timeline experiment-repo-nav">
          <div class="repository-content">
            <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
              
                <h3>
                  <span class="octicon octicon-book"></span>
                  BACKGROUND-BY-REDDIT.md
                </h3>
              
              <article class="markdown-body entry-content" itemprop="text" id="grip-content">
                <p align="right">
  <a href="maxwellbuck.pub">PGP</a>
  •
  <a href="fb-highlights.html">Thoughts</a>
  •
  <a href="BACKGROUND-BY-REDDIT.md">Raw</a>
  •
  <a href="index.html">Home</a>
</p>
<h1>
<a id="user-content-background-by-reddit" class="anchor" href="#background-by-reddit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background By Reddit</h1>
<p>Hey Guys,</p>
<p>I was bored between classes a few days ago and decided it would be cool to <a href="https://github.com/buckmaxwell/background-by-reddit">stream pictures posted on Reddit to my desktop background</a>.  Reddit has a really neat API in that every page that is publicly assessable normally, can be converted to JSON  simply by <a href="https://www.reddit.com/.json?raw_json=1" rel="nofollow">appending .json to the end of the regular URL</a>.</p>
<p>Then, to limit calls all they do is have you set your User-Agent string in the request header to something fun and playful for the requests that you make.  If your User-Agent is set to the default -- ie, you use urllib for Python or something like that, and don't set the User-Agent in the header on your own--then in a little bit you'll get a 429 status code.  So sad.  So come up with something creative and you can make 60 requests a minute.  If you need to double that, or hit some endpoints that would only be assessable to a signed in user, then use Oauth (ug, I know).</p>
<p>But anyway, the Reddit API kicks ass, so I hooked everything up in about 45 minutes and tossed it up on GitHub.  Hope you have fun with it! I was very satisfied with the results, and have been experimenting with different subreddits in order to increase the fun.  For an extra challenge, set it up on your friends computer, and watch with delight as they try to figure out where all these pictures of Vladimir Putin and Teacup Pigs are coming from.</p>
<p><a href="https://github.com/buckmaxwell/background-by-reddit">https://github.com/buckmaxwell/background-by-reddit</a></p>
<p align="center"><a href="json-api-2.html">Prev</a>
 &lt;&gt; <a href="how-many-seasons.html">Next</a></p>
<hr>
<p align="center">
  <a href="https://www.linkedin.com/pub/max-buck/8b/5b8/a9" rel="nofollow">LinkedIn</a>
  •
  <a href="resume.html">Resume</a>
  •
  <a href="https://github.com/buckmaxwell">GitHub</a>
</p>
<hr>
<p>(c) 2018 <a href="mailto:maxbuckdeveloper@gmail.com">maxbuckdeveloper@gmail.com</a></p>

              </article>
            </div>
          </div>
        </div>
      </div>

    

  </div>
  <div>&nbsp;</div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src') && image.src !== image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }

    function scrollToHash() {
      if (location.hash && !document.querySelector(':target')) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }

    function autorefreshContent(eventSourceUrl) {
      var initialTitle = document.title;
      var contentElement = document.getElementById('grip-content');
      var source = new EventSource(eventSourceUrl);
      var isRendering = false;

      source.onmessage = function(ev) {
        var msg = JSON.parse(ev.data);
        if (msg.updating) {
          isRendering = true;
          document.title = '(Rendering) ' + document.title;
        } else {
          isRendering = false;
          document.title = initialTitle;
          contentElement.innerHTML = msg.content;
          showCanonicalImages();
        }
      }

      source.onerror = function(e) {
        if (e.readyState === EventSource.CLOSED && isRendering) {
          isRendering = false;
          document.title = initialTitle;
        }
      }
    }

    window.onhashchange = function() {
      scrollToHash();
    }

    window.onload = function() {
      scrollToHash();
    }

    showCanonicalImages();

    var autorefreshUrl = document.getElementById('preview-page').getAttribute('data-autorefresh-url');
    if (autorefreshUrl) {
      autorefreshContent(autorefreshUrl);
    }
  </script>
</body>
</html>